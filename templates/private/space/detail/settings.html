{% extends "private/space/detail/base.html" %}
{% load static %}
{% load l10n %}
{% load i18n %}
{% block space_content %}

    {% include 'components/forms/error_widget.html' with errors=form.non_field_errors %}
    <form id="space-form" action="" method="POST" class="max-w-screen-md">
        {% csrf_token %}
                <!-- INSTRUCTIONS -->
        <div class="mb-6">
            <div class="flex items-center mb-2 space-x-2">
                <h3 class="text-xl font-medium text-gray-900 dark:text-white">Instructions</h3>
                {% include 'components/tooltip.html' with content=form.instructions.help_text target=form.instructions.name %}
            </div>
            <label for="{{ form.instructions.id_for_label }}"
                   class="hidden block mb-2 text-sm font-medium text-gray-900 dark:text-white">{{ form.instructions.label }} </label>
            {{ form.instructions }}
            {% include 'components/forms/error_widget.html' with errors=form.instructions.errors %}
        </div>


        <div class="mb-6">
            <div class="flex items-center mb-2 space-x-2">
                <h3 class="text-xl font-medium text-gray-900 dark:text-white">Company</h3>
                {% include 'components/tooltip.html' with content=form.company.help_text target=form.company.name %}
            </div>
            {% include 'private/space/create/components/company/widget.html' with input=form.company search_input=form.search_company %}
            {% include 'components/forms/error_widget.html' with errors=form.company.errors %}

        </div>



        <!-- DEADLINE -->
        <div class="mb-6" id="deadline-section">
            <div class="flex items-center mb-2 space-x-2">
                <h3 class="text-xl font-medium text-gray-900 dark:text-white">Deadline</h3>
                {% include 'components/tooltip.html' with content=form.deadline.help_text target=form.deadline.name %}
            </div>
            <div id="deadline-input-container" class="my-1 border-0">
                <label for="{{ form.deadline.id_for_label }}"
                       class="hidden block mb-2 text-sm font-medium text-gray-900 dark:text-white">{{ form.deadline.label }} </label>
                {{ form.deadline }}
                {% include 'components/forms/error_widget.html' with errors=form.deadline.errors %}
            </div>
            <div class="hidden deadline-settings-container">

                <div class="flex items-center my-2 space-x-2">
                    <div class="flex items-center h-5">
                        {{ form.notify_deadline }}
                        <label for="{{ form.notify_deadline.id_for_label }}"
                               class="hidden text-sm font-medium text-gray-900 ms-2 dark:text-gray-300">{{ form.notify_deadline.label }}</label>
                    </div>
                    {% include 'components/tooltip.html' with content=form.notify_deadline.help_text target=form.notify_deadline.name %}
                    {% include 'components/forms/error_widget.html' with errors=form.notify_deadline.errors %}
                </div>

                <div class="container flex-col items-center hidden mb-2 space-x-2 deadline-notice-container">
                    <div class="flex flex-wrap items-center">
                        <span class="mr-0.5">Notifications will be sent {{ form.deadline_notice_days }} days and {{ form.deadline_notice_hours }} hours before the deadline.</span>

                    </div>

                </div>
                {% include 'components/forms/error_widget.html' with errors=form.deadline_notice_days.errors %}


                <div class="flex items-center mb-2 space-x-2">
                    <div class="flex items-center h-5">
                        {{ form.upload_after_deadline }}
                        <label for="{{ form.upload_after_deadline.id_for_label }}"
                               class="text-sm font-medium text-gray-900 ms-2 dark:text-gray-300">{{ form.upload_after_deadline.label }}</label>
                    </div>
                    {% include 'components/tooltip.html' with content=form.upload_after_deadline.help_text target=form.upload_after_deadline.name %}
                    {% include 'components/forms/error_widget.html' with errors=form.upload_after_deadline.errors %}
                </div>
            </div>


        </div>
        <div class="flex justify-end {% if action == 'edit' %} sticky bottom-4 {% endif %}">
            {% include "components/buttons/submit_with_loader.html" with button_text=submit_text loading="True" extra_classes="min-w-[100px] min-h-[42px]" %}
            {% if False %}<span class="hidden min-w-[100px] min-h-[42px]"></span>{% endif %}
        </div>
    </form>

{% endblock space_content %}

